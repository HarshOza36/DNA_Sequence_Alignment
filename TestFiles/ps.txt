using PSUTIL

{0: {'cpu': 0.0, 'mem': 52092}, 1: {'cpu': 663.095235824585, 'mem': 52092}, 2: {'cpu': 1129.206895828247, 'mem': 53228}, 3: {'cpu': 1868.3600425720215, 'mem': 53088}, 4: {'cpu': 2558.500289916992, 'mem': 53228}, 5: {'cpu': 3667.679786682129, 'mem': 53964}, 6: {'cpu': 4605.841875076294, 'mem': 53508}, 
7: {'cpu': 1.0030269622802734, 'mem': 53900}, 8: {'cpu': 5.00035285949707, 'mem': 53916}, 9: {'cpu': 14.020204544067383, 'mem': 53932}, 10: {'cpu': 36.006927490234375, 'mem': 54068}, 11: {'cpu': 58.0136775970459, 'mem': 54172}, 12: {'cpu': 172.00899124145508, 'mem': 54464}, 13: {'cpu': 273.05006980895996, 'mem': 53968}, 14: {'cpu': 459.08188819885254, 'mem': 54712}}
{0: {'cpu': 0.9918212890625, 'mem': 54004}, 1: {'cpu': 1301.2404441833496, 'mem': 54020}, 2: {'cpu': 2215.435028076172, 'mem': 55368}, 3: {'cpu': 4223.592281341553, 'mem': 55300}, 4: {'cpu': 6069.805860519409, 'mem': 54592}, 5: {'cpu': 6861.917018890381, 'mem': 55492}, 6: {'cpu': 8611.145973205566, 'mem': 55856}, 7: {'cpu': 2.9976367950439453, 'mem': 54920}, 8: {'cpu': 11.000633239746094, 'mem': 54920}, 9: {'cpu': 36.0105037689209, 'mem': 54920}, 10: {'cpu': 84.98334884643555, 'mem': 54920}, 11: {'cpu': 124.99880790710449, 'mem': 54928}, 12: {'cpu': 275.07686614990234, 'mem': 54928}, 13: {'cpu': 501.0836124420166, 'mem': 54932}, 14: {'cpu': 781.1017036437988, 'mem': 55196}}



using tracemalloc

{0: {'mem': 3.314, 'cpu': 0.0}, 1: {'mem': 21382.928, 'cpu': 3110.417366027832}, 2: {'mem': 38702.77, 'cpu': 6632.879018783569}, 3: {'mem': 60756.996, 
'cpu': 9650.286436080933}, 4: {'mem': 86212.96, 'cpu': 22652.04668045044}, 5: {'mem': 116398.31, 'cpu': 22643.020629882812}, 6: {'mem': 143274.816, 'cpu': 26814.595699310303}, 7: {'mem': 38.846, 'cpu': 3.0066967010498047}, 8: {'mem': 157.655, 'cpu': 13.974428176879883}, 9: {'mem': 627.271, 'cpu': 54.0311336517334}, 10: {'mem': 1370.047, 'cpu': 113.01541328430176}, 11: {'mem': 2421.961, 'cpu': 215.02375602722168}, 12: {'mem': 5429.827, 'cpu': 655.113935470581}, 13: {'mem': 9572.088, 'cpu': 1498.1789588928223}, 14: {'mem': 15051.818, 'cpu': 2251.7988681793213}}
{0: {'mem': 8.091, 'cpu': 0.9996891021728516}, 1: {'mem': 2485.302, 'cpu': 4928.650856018066}, 2: {'mem': 4744.582, 'cpu': 9402.253866195679}, 3: {'mem': 7528.726, 'cpu': 17331.30645751953}, 4: {'mem': 10175.31, 'cpu': 22904.056072235107}, 5: {'mem': 13369.094, 'cpu': 30779.72912788391}, 6: {'mem': 16667.238, 'cpu': 40365.64493179321}, 7: {'mem': 8.314, 'cpu': 8.054018020629883}, 8: {'mem': 26.122, 'cpu': 24.979829788208008}, 9: {'mem': 91.402, 'cpu': 88.00244331359863}, 10: {'mem': 179.786, 'cpu': 223.052978515625}, 11: {'mem': 312.734, 'cpu': 368.01815032958984}, 12: {'mem': 680.858, 'cpu': 897.1564769744873}, 13: {'mem': 1155.366, 'cpu': 1786.241054534912}, 14: {'mem': 1836.318, 'cpu': 2922.407388687134}}



using process mem function


{0: {'mem': 52196, 'cpu': 1.001596450805664}, 1: {'mem': 52676, 'cpu': 691.1039352416992}, 2: {'mem': 53048, 'cpu': 1337.1775150299072}, 3: {'mem': 53108, 'cpu': 2410.311460494995}, 4: {'mem': 53760, 'cpu': 3270.9598541259766}, 5: {'mem': 53748, 'cpu': 4206.583499908447}, 6: {'mem': 54340, 'cpu': 6025.8190631866455}, 7: {'mem': 54344, 'cpu': 0.9796619415283203}, 8: {'mem': 54344, 'cpu': 4.976034164428711}, 9: {'mem': 54392, 'cpu': 16.02649688720703}, 10: {'mem': 54432, 'cpu': 36.98110580444336}, 11: {'mem': 54784, 'cpu': 105.01313209533691}, 12: {'mem': 53924, 'cpu': 258.03422927856445}, 13: {'mem': 54072, 'cpu': 494.0676689147949}, 14: {'mem': 54460, 'cpu': 589.073657989502}}
{0: {'mem': 54464, 'cpu': 0.0}, 1: {'mem': 55908, 'cpu': 1387.204885482788}, 2: {'mem': 55336, 'cpu': 2283.301830291748}, 3: {'mem': 55164, 'cpu': 3231.4560413360596}, 4: {'mem': 56048, 'cpu': 4680.622339248657}, 5: {'mem': 55840, 'cpu': 6611.8810176849365}, 6: {'mem': 55656, 'cpu': 7922.034978866577}, 7: {'mem': 55660, 'cpu': 3.022432327270508}, 8: {'mem': 55660, 'cpu': 11.022090911865234}, 9: {'mem': 55660, 'cpu': 30.972957611083984}, 10: {'mem': 
55660, 'cpu': 65.01412391662598}, 11: {'mem': 55660, 'cpu': 132.00902938842773}, 12: {'mem': 55660, 'cpu': 304.06951904296875}, 13: {'mem': 55796, 'cpu': 506.06560707092285}, 14: {'mem': 54616, 'cpu': 883.1431865692139}}





WE added process util in the main main main function
{0: {'mem': 52200, 'cpu': 0.0}, 1: {'mem': 75924, 'cpu': 642.0564651489258}, 2: {'mem': 95232, 'cpu': 1102.0641326904297}, 3: {'mem': 
119800, 'cpu': 1766.098976135254}, 4: {'mem': 148128, 'cpu': 2575.1194953918457}, 5: {'mem': 181340, 'cpu': 3494.201898574829}, 6: {'mem': 210476, 'cpu': 4329.264402389526}, 7: {'mem': 55432, 'cpu': 0.9884834289550781}, 8: {'mem': 55444, 'cpu': 5.026578903198242}, 9: 
{'mem': 55528, 'cpu': 17.969846725463867}, 10: {'mem': 55652, 'cpu': 37.02998161315918}, 11: {'mem': 56252, 'cpu': 56.00452423095703}, 12: {'mem': 59324, 'cpu': 149.00970458984375}, 13: {'mem': 64044, 'cpu': 255.98406791687012}, 14: {'mem': 69672, 'cpu': 447.0396041870117}}
{0: {'mem': 56324, 'cpu': 0.0}, 1: {'mem': 57696, 'cpu': 1157.0377349853516}, 2: {'mem': 58452, 'cpu': 2102.1454334259033}, 3: {'mem': 57056, 'cpu': 3216.1831855773926}, 4: {'mem': 57768, 'cpu': 4649.286270141602}, 5: {'mem': 58512, 'cpu': 6394.363641738892}, 6: {'mem': 58148, 'cpu': 9538.57707977295}, 7: {'mem': 58148, 'cpu': 4.984378814697266}, 8: {'mem': 58148, 'cpu': 12.987136840820312}, 9: {'mem': 58148, 'cpu': 37.02354431152344}, 10: {'mem': 58148, 'cpu': 77.00443267822266}, 11: {'mem': 58148, 'cpu': 146.00825309753418}, 12: {'mem': 58192, 'cpu': 412.99891471862793}, 13: {'mem': 58228, 'cpu': 541.0516262054443}, 14: {'mem': 56928, 'cpu': 796.0236072540283}}






Finally

{0: {'mem': 52352, 'cpu': 0.0}, 1: {'mem': 76096, 'cpu': 652.0564556121826}, 2: {'mem': 95296, 'cpu': 1137.0899677276611}, 3: {'mem': 119784, 'cpu': 1831.1281204223633}, 4: {'mem': 148088, 'cpu': 2615.150213241577}, 5: {'mem': 180928, 'cpu': 4368.221998214722}, 6: {'mem': 210092, 'cpu': 4509.258508682251}, 7: {'mem': 55392, 'cpu': 1.0023117065429688}, 8: {'mem': 55408, 'cpu': 6.008386611938477}, 9: {'mem': 55512, 'cpu': 22.0184326171875}, 10: {'mem': 55616, 'cpu': 32.976388931274414}, 11: {'mem': 56096, 'cpu': 67.00372695922852}, 12: {'mem': 59468, 'cpu': 143.01443099975586}, 13: {'mem': 63776, 'cpu': 259.0179443359375}, 14: {'mem': 69740, 'cpu': 487.02311515808105}}
{0: {'mem': 56136, 'cpu': 1.0025501251220703}, 1: {'mem': 57728, 'cpu': 1440.0825500488281}, 2: {'mem': 56388, 'cpu': 2569.1511631011963}, 3: {'mem': 56536, 'cpu': 3817.2287940979004}, 4: {'mem': 57560, 'cpu': 5378.309488296509}, 5: {'mem': 57696, 'cpu': 7997.470378875732}, 6: {'mem': 57440, 'cpu': 9693.538427352905}, 7: {'mem': 57440, 'cpu': 6.003379821777344}, 8: {'mem': 57440, 'cpu': 15.007734298706055}, 9: {'mem': 57440, 'cpu': 41.02063179016113}, 10: {'mem': 57440, 'cpu': 69.98276710510254}, 11: {'mem': 57444, 'cpu': 146.00133895874023}, 12: {'mem': 57444, 'cpu': 336.01856231689453}, 13: {'mem': 57568, 'cpu': 537.0280742645264}, 14: {'mem': 56548, 'cpu': 883.0592632293701}}